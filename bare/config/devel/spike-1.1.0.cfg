#
# RISC-V's simulator (spike) 1.1.0
#

%if %{release} == %{nil}
%define release 1
%endif

%include %{_configdir}/base.cfg

%define spike_version 01252686902fa30665fbecfc1476d169ad1333d1
%define fesvr_version 8d108a0a647901550d95925549337c2c3aec9ac8

%hash sha512 spike-%{spike_version}.tar.gz \
       j/Ur/eSIyT6EdpZxS1/vXSqX7HhYLErS2YAM/kdy+suhC2hc3G1R++7vR7TXgWeChf+2kdLsguqPvQnwwkTSxQ==

# RISC-V's front-end server (fesvr)
%hash sha512 fesvr-%{fesvr_version}.tar.gz \
       WUyzopiWMpuEmo9Ox5qTuXAVOmb4dJobs4NoIASU1U2Qg2CatXzcY+Prs7CY3PQ3rTKM7zImVf/HUIy6OCjHjA==

%patch add spike --rsb-file=spike-include-permissions.patch https://devel.rtems.org/raw-attachment/ticket/3802/0001-Correct-Permission-on-Installed-Headers-and-Binaries.patch
%hash sha512 spike-include-permissions.patch \
       YpeSJ/xn48A6FN4q0pUjrd0DIzOXml/pdlqqzQJl096S40U2fGN7HJBzeLboTlITYZIr+4eDBlnSR29QDy8/8Q==

#
# The spike build instructions. We use 1.x.x Release 1.
#
%include %{_configdir}/spike-1-1.cfg
