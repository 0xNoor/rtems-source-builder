#
# RISC-V's simulator (spike) 1.1.0
#

%if %{release} == %{nil}
%define release 1
%endif

%include %{_configdir}/base.cfg

%define spike_version 01252686902fa30665fbecfc1476d169ad1333d1
%define fesvr_version 8d108a0a647901550d95925549337c2c3aec9ac8

%hash sha512 %{spike_version}.tar.gz 8ff52bfde488c93e847696714b5fef5d2a97ec78582c4ad2d9800cfe4772facba10b685cdc6d51fbeeef47b4d781678285ffb691d2ec82ea8fbd09f0c244d2c5

# RISC-V's front-end server (fesvr)
%hash sha512 %{fesvr_version}.tar.gz 62979227fc67e3c03a14de2ad29523addd032333979a5fe9765aaacd0265d3de92e345367c637b1c907378b6e84e521361922bfb87830659d2476f500f2f3ff1

%patch add spike --rsb-file=spike-include-permissions.patch https://devel.rtems.org/raw-attachment/ticket/3802/0001-Correct-Permission-on-Installed-Headers-and-Binaries.patch
%hash sha512 spike-include-permissions.patch 62979227fc67e3c03a14de2ad29523addd032333979a5fe9765aaacd0265d3de92e345367c637b1c907378b6e84e521361922bfb87830659d2476f500f2f3ff1

#
# The spike build instructions. We use 1.x.x Release 1.
#
%include %{_configdir}/spike-1-1.cfg
